<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1013px" preserveAspectRatio="none" style="width:1767px;height:1013px;background:#FFFFFF;" version="1.1" viewBox="0 0 1767 1013" width="1767px" zoomAndPan="magnify"><defs><filter height="300%" id="fh7c1wtdmd9tt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fh7c1wtdmd9tt)" height="837.6563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="163" y="98.4297"/><rect fill="#90EE90" filter="url(#fh7c1wtdmd9tt)" height="590.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="364" y="344.2266"/><rect fill="#FFA500" filter="url(#fh7c1wtdmd9tt)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="505" y="378.3594"/><rect fill="#FFFFFF" filter="url(#fh7c1wtdmd9tt)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="603.5" y="253.9609"/><rect fill="#FFBBBB" filter="url(#fh7c1wtdmd9tt)" height="499.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="693.5" y="435.4922"/><rect fill="#90EE90" filter="url(#fh7c1wtdmd9tt)" height="302.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="833.5" y="632.2891"/><rect fill="#ADD8E6" filter="url(#fh7c1wtdmd9tt)" height="456.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1059.5" y="478.625"/><rect fill="#0000FF" filter="url(#fh7c1wtdmd9tt)" height="386.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1277.5" y="549.8906"/><rect fill="#FFFFFF" filter="url(#fh7c1wtdmd9tt)" height="185.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1430.5" y="734.5547"/><rect fill="#FFFFFF" filter="url(#fh7c1wtdmd9tt)" height="103.3984" style="stroke:#000000;stroke-width:2.0;" width="640" x="741" y="564.8906"/><rect fill="#FFFFFF" filter="url(#fh7c1wtdmd9tt)" height="231.7969" style="stroke:#000000;stroke-width:2.0;" width="841" x="646" y="696.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="168" x2="168" y1="67.2969" y2="945.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="369" x2="369" y1="67.2969" y2="945.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="510" x2="510" y1="67.2969" y2="945.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="608" x2="608" y1="67.2969" y2="945.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="698" x2="698" y1="67.2969" y2="945.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="838" x2="838" y1="67.2969" y2="945.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1064.5" x2="1064.5" y1="67.2969" y2="945.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1282" x2="1282" y1="67.2969" y2="945.0859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1435" x2="1435" y1="67.2969" y2="945.0859"/><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="44" x="144" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="151" y="51.9951">App</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="44" x="144" y="944.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="151" y="964.0811">App</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="80" x="327" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="334" y="51.9951">WebHost</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="80" x="327" y="944.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="334" y="964.0811">WebHost</text><rect fill="#FFA500" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="94" x="463" y="28"/><rect fill="#FFA500" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="94" x="459" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="466" y="51.9951">Controllers</text><rect fill="#FFA500" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="94" x="463" y="944.0859"/><rect fill="#FFA500" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="94" x="459" y="948.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="466" y="968.0811">Controllers</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="71" x="571" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="578" y="51.9951">Loggers</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="71" x="571" y="944.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="578" y="964.0811">Loggers</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="81" x="656" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="663" y="51.9951">APICache</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="81" x="656" y="944.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="663" y="964.0811">APICache</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="171" x="751" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="758" y="51.9951">StatusUpdateListener</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="171" x="751" y="944.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="758" y="964.0811">StatusUpdateListener</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="156" x="984.5" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="991.5" y="51.9951">ChangeFeedService</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="156" x="984.5" y="944.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="991.5" y="964.0811">ChangeFeedService</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="173" x="1194" y="32"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="1201" y="51.9951">IChangeFeedObserver</text><rect fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="173" x="1194" y="944.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="1201" y="964.0811">IChangeFeedObserver</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1394" y="63.9951">CosmosDB</text><path d="M1417.5,15 C1417.5,5 1435.5,5 1435.5,5 C1435.5,5 1453.5,5 1453.5,15 L1453.5,41 C1453.5,51 1435.5,51 1435.5,51 C1435.5,51 1417.5,51 1417.5,41 L1417.5,15 " fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1417.5,15 C1417.5,25 1435.5,25 1435.5,25 C1435.5,25 1453.5,25 1453.5,15 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1394" y="957.0811">CosmosDB</text><path d="M1417.5,970.3828 C1417.5,960.3828 1435.5,960.3828 1435.5,960.3828 C1435.5,960.3828 1453.5,960.3828 1453.5,970.3828 L1453.5,996.3828 C1453.5,1006.3828 1435.5,1006.3828 1435.5,1006.3828 C1435.5,1006.3828 1417.5,1006.3828 1417.5,996.3828 L1417.5,970.3828 " fill="#FEFECE" filter="url(#fh7c1wtdmd9tt)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1417.5,970.3828 C1417.5,980.3828 1435.5,980.3828 1435.5,980.3828 C1435.5,980.3828 1453.5,980.3828 1453.5,970.3828 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#fh7c1wtdmd9tt)" height="837.6563" style="stroke:#A80036;stroke-width:1.0;" width="10" x="163" y="98.4297"/><rect fill="#90EE90" filter="url(#fh7c1wtdmd9tt)" height="590.8594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="364" y="344.2266"/><rect fill="#FFA500" filter="url(#fh7c1wtdmd9tt)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="505" y="378.3594"/><rect fill="#FFFFFF" filter="url(#fh7c1wtdmd9tt)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="603.5" y="253.9609"/><rect fill="#FFBBBB" filter="url(#fh7c1wtdmd9tt)" height="499.5938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="693.5" y="435.4922"/><rect fill="#90EE90" filter="url(#fh7c1wtdmd9tt)" height="302.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="833.5" y="632.2891"/><rect fill="#ADD8E6" filter="url(#fh7c1wtdmd9tt)" height="456.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1059.5" y="478.625"/><rect fill="#0000FF" filter="url(#fh7c1wtdmd9tt)" height="386.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1277.5" y="549.8906"/><rect fill="#FFFFFF" filter="url(#fh7c1wtdmd9tt)" height="185.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1430.5" y="734.5547"/><ellipse cx="7.5" cy="97.6797" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="151,94.4297,161,98.4297,151,102.4297,155,98.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="12" x2="157" y1="98.4297" y2="98.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="15" y="93.3638">Start LodeRunner.API</text><line style="stroke:#A80036;stroke-width:1.0;" x1="173" x2="215" y1="127.5625" y2="127.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="215" x2="215" y1="127.5625" y2="140.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="174" x2="215" y1="140.5625" y2="140.5625"/><polygon fill="#A80036" points="184,136.5625,174,140.5625,184,144.5625,180,140.5625" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="180" y="122.4966">Validate Arguments</text><line style="stroke:#A80036;stroke-width:1.0;" x1="173" x2="215" y1="169.6953" y2="169.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="215" x2="215" y1="169.6953" y2="182.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="174" x2="215" y1="182.6953" y2="182.6953"/><polygon fill="#A80036" points="184,178.6953,174,182.6953,184,186.6953,180,182.6953" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="180" y="164.6294">Creates Start-up Config</text><line style="stroke:#A80036;stroke-width:1.0;" x1="173" x2="215" y1="211.8281" y2="211.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="215" x2="215" y1="211.8281" y2="224.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="174" x2="215" y1="224.8281" y2="224.8281"/><polygon fill="#A80036" points="184,220.8281,174,224.8281,184,228.8281,180,224.8281" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="180" y="206.7622">Ensure secrets</text><polygon fill="#A80036" points="591.5,249.9609,601.5,253.9609,591.5,257.9609,595.5,253.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="173" x2="597.5" y1="253.9609" y2="253.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="180" y="248.895">Initialize Loggers</text><polygon fill="#A80036" points="184,263.9609,174,267.9609,184,271.9609,180,267.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178" x2="607.5" y1="267.9609" y2="267.9609"/><line style="stroke:#A80036;stroke-width:1.0;" x1="173" x2="215" y1="297.0938" y2="297.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="215" x2="215" y1="297.0938" y2="310.0938"/><line style="stroke:#A80036;stroke-width:1.0;" x1="174" x2="215" y1="310.0938" y2="310.0938"/><polygon fill="#A80036" points="184,306.0938,174,310.0938,184,314.0938,180,310.0938" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="180" y="292.0278">Register Temination Events</text><polygon fill="#A80036" points="352,340.2266,362,344.2266,352,348.2266,356,344.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="173" x2="358" y1="344.2266" y2="344.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="180" y="339.1606">Build and Configures Host</text><path d="M379,323.0938 L379,348.0938 L891,348.0938 L891,333.0938 L881,323.0938 L379,323.0938 " fill="#FBFB77" filter="url(#fh7c1wtdmd9tt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M881,323.0938 L881,333.0938 L891,333.0938 L881,323.0938 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="491" x="385" y="340.1606">Registers Controllers, Routes, Config, CosmosDBSettings, Uses Startup class</text><polygon fill="#A80036" points="493,374.3594,503,378.3594,493,382.3594,497,378.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="374" x2="499" y1="378.3594" y2="378.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="381" y="373.2935">Ready controllers</text><polygon fill="#A80036" points="385,388.3594,375,392.3594,385,396.3594,381,392.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="379" x2="509" y1="392.3594" y2="392.3594"/><polygon fill="#A80036" points="184,402.3594,174,406.3594,184,410.3594,180,406.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178" x2="363" y1="406.3594" y2="406.3594"/><polygon fill="#A80036" points="681.5,431.4922,691.5,435.4922,681.5,439.4922,685.5,435.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="173" x2="687.5" y1="435.4922" y2="435.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="180" y="430.4263">Initialize Cache</text><polygon fill="#A80036" points="184,445.4922,174,449.4922,184,453.4922,180,449.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="178" x2="692.5" y1="449.4922" y2="449.4922"/><polygon fill="#A80036" points="1047.5,474.625,1057.5,478.625,1047.5,482.625,1051.5,478.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="173" x2="1053.5" y1="478.625" y2="478.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="180" y="473.5591">Initialize Change feed listener</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1069.5" x2="1111.5" y1="507.7578" y2="507.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1111.5" x2="1111.5" y1="507.7578" y2="520.7578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1070.5" x2="1111.5" y1="520.7578" y2="520.7578"/><polygon fill="#A80036" points="1080.5,516.7578,1070.5,520.7578,1080.5,524.7578,1076.5,520.7578" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="1076.5" y="502.6919">Creates System Objects</text><path d="M1243,493.125 L1243,518.125 L1758,518.125 L1758,503.125 L1748,493.125 L1243,493.125 " fill="#FBFB77" filter="url(#fh7c1wtdmd9tt)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1748,493.125 L1748,503.125 L1758,503.125 L1748,493.125 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="494" x="1249" y="510.1919">IChangeFeedProcessor, IChangeFeedObserverFactory, IChangeFeedObserver</text><polygon fill="#A80036" points="1265.5,545.8906,1275.5,549.8906,1265.5,553.8906,1269.5,549.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1069.5" x2="1271.5" y1="549.8906" y2="549.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="1076.5" y="544.8247">Observer Events Subscription</text><path d="M741,564.8906 L971,564.8906 L971,571.8906 L961,581.8906 L741,581.8906 L741,564.8906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="103.3984" style="stroke:#000000;stroke-width:2.0;" width="640" x="741" y="564.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="185" x="756" y="577.9575">Observer Ready Callback</text><polygon fill="#A80036" points="1080.5,599.1563,1070.5,603.1563,1080.5,607.1563,1076.5,603.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1074.5" x2="1276.5" y1="603.1563" y2="603.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="1086.5" y="598.0903">Observer ready callback</text><polygon fill="#A80036" points="854.5,628.2891,844.5,632.2891,854.5,636.2891,850.5,632.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="848.5" x2="1058.5" y1="632.2891" y2="632.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="860.5" y="627.2231">Setup event subscriptions</text><polygon fill="#A80036" points="1047.5,642.2891,1057.5,646.2891,1047.5,650.2891,1051.5,646.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="843.5" x2="1053.5" y1="646.2891" y2="646.2891"/><polygon fill="#A80036" points="1265.5,656.2891,1275.5,660.2891,1265.5,664.2891,1269.5,660.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1069.5" x2="1271.5" y1="660.2891" y2="660.2891"/><polygon fill="#A80036" points="1080.5,677.2891,1070.5,681.2891,1080.5,685.2891,1076.5,681.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1074.5" x2="1276.5" y1="681.2891" y2="681.2891"/><path d="M646,696.2891 L844,696.2891 L844,703.2891 L834,713.2891 L646,713.2891 L646,696.2891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="231.7969" style="stroke:#000000;stroke-width:2.0;" width="841" x="646" y="696.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153" x="661" y="709.356">On Process Changes</text><polygon fill="#A80036" points="1298.5,730.5547,1288.5,734.5547,1298.5,738.5547,1294.5,734.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1292.5" x2="1429.5" y1="734.5547" y2="734.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="1304.5" y="729.4888">Document Updates</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1287.5" x2="1329.5" y1="763.6875" y2="763.6875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1329.5" x2="1329.5" y1="763.6875" y2="776.6875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1288.5" x2="1329.5" y1="776.6875" y2="776.6875"/><polygon fill="#A80036" points="1298.5,772.6875,1288.5,776.6875,1298.5,780.6875,1294.5,776.6875" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1294.5" y="758.6216">Identify Doc Type</text><polygon fill="#A80036" points="1080.5,801.8203,1070.5,805.8203,1080.5,809.8203,1076.5,805.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1074.5" x2="1276.5" y1="805.8203" y2="805.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="1086.5" y="800.7544">Raise Doc Specific Event</text><polygon fill="#A80036" points="854.5,830.9531,844.5,834.9531,854.5,838.9531,850.5,834.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="848.5" x2="1058.5" y1="834.9531" y2="834.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="860.5" y="829.8872">Process Specific Doc Changes</text><polygon fill="#A80036" points="714.5,860.0859,704.5,864.0859,714.5,868.0859,710.5,864.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="708.5" x2="832.5" y1="864.0859" y2="864.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="720.5" y="859.02">Update Cache</text><polygon fill="#A80036" points="821.5,874.0859,831.5,878.0859,821.5,882.0859,825.5,878.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="703.5" x2="827.5" y1="878.0859" y2="878.0859"/><polygon fill="#A80036" points="1047.5,888.0859,1057.5,892.0859,1047.5,896.0859,1051.5,892.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="843.5" x2="1053.5" y1="892.0859" y2="892.0859"/><polygon fill="#A80036" points="1265.5,902.0859,1275.5,906.0859,1265.5,910.0859,1269.5,906.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1069.5" x2="1271.5" y1="906.0859" y2="906.0859"/><polygon fill="#A80036" points="1423.5,916.0859,1433.5,920.0859,1423.5,924.0859,1427.5,920.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1287.5" x2="1429.5" y1="920.0859" y2="920.0859"/><!--MD5=[942e85265b814d210bef9dbd02eb4492]
@startuml
participant "App" as L8rAPIStart
participant "WebHost" as WebHost
collections "Controllers" as Endpoints #Orange
participant "Loggers" as Loggers
participant "APICache" as APICache
participant "StatusUpdateListener" as StatusListener
participant "ChangeFeedService" as ChangeFeedService
participant "IChangeFeedObserver" as IChangeFeedObserver
database    "CosmosDB" as CosmosDB

[o-> L8rAPIStart: Start LodeRunner.API

activate L8rAPIStart

L8rAPIStart -> L8rAPIStart: Validate Arguments
L8rAPIStart -> L8rAPIStart: Creates Start-up Config

L8rAPIStart -> L8rAPIStart: Ensure secrets
L8rAPIStart -> Loggers: Initialize Loggers
activate Loggers
Loggers - -> L8rAPIStart
deactivate Loggers
L8rAPIStart -> L8rAPIStart: Register Temination Events

L8rAPIStart -> WebHost: Build and Configures Host
activate WebHost #LightGreen
note right
    Registers Controllers, Routes, Config, CosmosDBSettings, Uses Startup class
end note
WebHost -> Endpoints: Ready controllers
activate Endpoints #Orange
Endpoints - -> WebHost
deactivate Endpoints
WebHost - -> L8rAPIStart

L8rAPIStart -> APICache: Initialize Cache
activate APICache #FFBBBB
APICache - -> L8rAPIStart

L8rAPIStart -> ChangeFeedService: Initialize Change feed listener
activate ChangeFeedService #LightBlue

ChangeFeedService -> ChangeFeedService : Creates System Objects
note right
    IChangeFeedProcessor, IChangeFeedObserverFactory, IChangeFeedObserver
end note

ChangeFeedService -> IChangeFeedObserver : Observer Events Subscription
activate IChangeFeedObserver #blue
group Observer Ready Callback
    IChangeFeedObserver -> ChangeFeedService: Observer ready callback
    ChangeFeedService -> StatusListener: Setup event subscriptions
    activate StatusListener #LightGreen
    StatusListener - -> ChangeFeedService
    ChangeFeedService - -> IChangeFeedObserver
end
IChangeFeedObserver - -> ChangeFeedService

group On Process Changes
    CosmosDB -> IChangeFeedObserver: Document Updates
    activate CosmosDB
    IChangeFeedObserver -> IChangeFeedObserver: Identify Doc Type
    IChangeFeedObserver -> ChangeFeedService: Raise Doc Specific Event
    ChangeFeedService -> StatusListener: Process Specific Doc Changes
    StatusListener -> APICache: Update Cache
    APICache - -> StatusListener
    StatusListener - -> ChangeFeedService
    ChangeFeedService - -> IChangeFeedObserver
    IChangeFeedObserver - -> CosmosDB
    deactivate CosmosDB
end

deactivate CosmosDB
deactivate StatusListener
deactivate ChangeFeedService

deactivate APICache

deactivate Endpoints

deactivate WebHost
@enduml

PlantUML version 1.2021.17beta9(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>